{"ast":null,"code":"var _jsxFileName = \"/Users/rishi.arya/Documents/planview-twitter/src/components/card/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { localStorage } from \"../../utils/storage\";\nimport ActionBar from \"./action-bar\";\nimport Detail from \"./details\";\nimport UserInfo from \"./user-info\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Card = _ref => {\n  _s();\n\n  var _data$user, _data$user2, _data$user2$public_me, _data$user3, _data$user3$public_me, _data$user4, _data$user4$public_me, _data$public_metrics, _data$public_metrics2;\n\n  let {\n    data,\n    type,\n    getFavouriteItems\n  } = _ref;\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isFav, setIsFav] = useState(false);\n  const checkInitialIsFav = {\n    'tweets': () => {\n      let favItems = localStorage.get('favourite-tweets');\n\n      if (favItems) {\n        const itemIsFav = favItems === null || favItems === void 0 ? void 0 : favItems.some(item => {\n          if ((item === null || item === void 0 ? void 0 : item.id) === (data === null || data === void 0 ? void 0 : data.id)) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n        setTimeout(() => {\n          setIsFav(itemIsFav);\n        }, [100]);\n      } else {\n        setIsFav(false);\n      }\n    },\n    'fav-tweets': () => {\n      setIsFav(true);\n    }\n  };\n  useEffect(() => {\n    const toSetInitalIsFav = checkInitialIsFav === null || checkInitialIsFav === void 0 ? void 0 : checkInitialIsFav[type];\n    toSetInitalIsFav && toSetInitalIsFav();\n  }, []);\n\n  const toggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const toggleFav = value => {\n    setIsFav(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-preview\",\n      children: [/*#__PURE__*/_jsxDEV(UserInfo, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"desc\",\n        children: data === null || data === void 0 ? void 0 : data.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(ActionBar, {\n        isExpanded: isExpanded,\n        toggleExpand: toggleExpand,\n        isFav: isFav,\n        getFavouriteItems: getFavouriteItems,\n        toggleFav: toggleFav,\n        type: type,\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), isExpanded ? /*#__PURE__*/_jsxDEV(Detail, {\n        lang: data === null || data === void 0 ? void 0 : data.lang,\n        location: (_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.location,\n        followersCount: (_data$user2 = data.user) === null || _data$user2 === void 0 ? void 0 : (_data$user2$public_me = _data$user2.public_metrics) === null || _data$user2$public_me === void 0 ? void 0 : _data$user2$public_me.followers_count,\n        tweetsCount: (_data$user3 = data.user) === null || _data$user3 === void 0 ? void 0 : (_data$user3$public_me = _data$user3.public_metrics) === null || _data$user3$public_me === void 0 ? void 0 : _data$user3$public_me.tweet_count,\n        followingCount: (_data$user4 = data.user) === null || _data$user4 === void 0 ? void 0 : (_data$user4$public_me = _data$user4.public_metrics) === null || _data$user4$public_me === void 0 ? void 0 : _data$user4$public_me.following_count,\n        retweetCount: data === null || data === void 0 ? void 0 : (_data$public_metrics = data.public_metrics) === null || _data$public_metrics === void 0 ? void 0 : _data$public_metrics.retweet_count,\n        likeCount: data === null || data === void 0 ? void 0 : (_data$public_metrics2 = data.public_metrics) === null || _data$public_metrics2 === void 0 ? void 0 : _data$public_metrics2.like_count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 12\n      }, this) : '']\n    }, data === null || data === void 0 ? void 0 : data.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 6\n    }, this)\n  }, void 0, false);\n};\n\n_s(Card, \"oIrwcoRPq7mzfImuDXuVU9ipbqA=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/rishi.arya/Documents/planview-twitter/src/components/card/index.js"],"names":["useEffect","useState","localStorage","ActionBar","Detail","UserInfo","Card","data","type","getFavouriteItems","isExpanded","setIsExpanded","isFav","setIsFav","checkInitialIsFav","favItems","get","itemIsFav","some","item","id","setTimeout","toSetInitalIsFav","toggleExpand","toggleFav","value","text","lang","user","location","public_metrics","followers_count","tweet_count","following_count","retweet_count","like_count"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { localStorage } from \"../../utils/storage\";\nimport ActionBar from \"./action-bar\";\nimport Detail from \"./details\";\nimport UserInfo from \"./user-info\";\n\nconst Card = ({data, type, getFavouriteItems}) =>{\n    const [isExpanded, setIsExpanded] = useState(false);\n    const [isFav, setIsFav] = useState(false);\n\n    const checkInitialIsFav = {\n        'tweets' : ()=>{\n            let favItems =localStorage.get('favourite-tweets');\n            if(favItems){\n            const itemIsFav = favItems?.some((item)=>{\n                if(item?.id === data?.id){\n                    return true;\n                }else{\n                return false;\n                }\n            }) \n            setTimeout(()=>{\n                setIsFav(itemIsFav);\n            },[100]) \n          }else{\n              setIsFav(false);\n          }\n        },\n        'fav-tweets' : ()=>{\n            setIsFav(true);\n        }\n    }\n\n    useEffect(()=>{\n        const toSetInitalIsFav = checkInitialIsFav?.[type];\n        toSetInitalIsFav && toSetInitalIsFav();\n    },[])\n\n    const toggleExpand =()=>{\n        setIsExpanded(!isExpanded);\n    }\n\n    const toggleFav = (value)=>{\n        setIsFav(value)\n    }\n\n    return(\n     <>   \n     <div className='card-preview' key={data?.id}>\n       <UserInfo data={data}/>\n       <div className='desc'>{data?.text}</div> \n        <ActionBar\n         isExpanded={isExpanded}\n         toggleExpand={toggleExpand}\n         isFav={isFav}\n         getFavouriteItems={getFavouriteItems}\n         toggleFav={toggleFav}\n         type={type}\n         data={data}\n        /> \n         {isExpanded ? \n           <Detail \n             lang={data?.lang} \n             location={data.user?.location}\n             followersCount={data.user?.public_metrics?.followers_count}\n             tweetsCount={data.user?.public_metrics?.tweet_count}\n             followingCount={data.user?.public_metrics?.following_count}\n             retweetCount={data?.public_metrics?.retweet_count}\n             likeCount={data?.public_metrics?.like_count}\n           /> : ''}\n     </div>\n     </>\n    )\n}\n\nexport default Card;"]},"metadata":{},"sourceType":"module"}